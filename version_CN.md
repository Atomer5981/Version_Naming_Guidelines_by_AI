# 版本号命名规则完整指南

## 目录
1. [基础结构](#1-基础结构)  
2. [预发布标识](#2-预发布标识)  
3. [构建元数据](#3-构建元数据)  
4. [日期版本号](#4-日期版本号)  
5. [特殊字母与场景](#5-特殊字母与场景)  
6. [行业规范与工具](#6-行业规范与工具)  
7. [字母使用总结表](#7-字母使用总结表)  
8. [最佳实践](#8-最佳实践)  
9. [附录](#9-附录)  

---

## 1. 基础结构
版本号的核心由三部分组成，遵循 **`Major.Minor.Patch`** 格式：

| 字段      | 描述                                                                 | 升级规则                           |
|-----------|----------------------------------------------------------------------|-----------------------------------|
| **Major** | 主版本号，标识重大变更或不兼容更新。                                  | 功能变更影响兼容性时递增，次版本和修订号归零。 |
| **Minor** | 次版本号，标识向下兼容的功能新增。                                    | 新增功能但保持兼容时递增，修订号归零。      |
| **Patch** | 修订号，标识问题修复或优化，不涉及功能变更。                          | 仅修复 Bug 或优化时递增。               |

**示例**：  
- `1.0.0`：初始正式版本。  
- `2.3.1`：主版本 2，第 3 次功能迭代，第 1 次 Bug 修复。  

---

## 2. 预发布标识
预发布版本通过连字符 `-` 附加标识符，按开发阶段排序：

### 2.1 Alpha（内部测试版）
- **标识符**：`alpha` 或 `a`  
- **场景**：内部早期测试，功能不稳定。  
- **示例**：  
  - `1.0.0-alpha`  
  - `2.3a`（简写）  
  - `3.0.0-alpha.2`（带迭代编号）  

### 2.2 Beta（公开测试版）
- **标识符**：`beta` 或 `b`  
- **场景**：功能完整但需用户测试。  
- **示例**：  
  - `1.0.0-beta`  
  - `2.4.0b3`（第 3 个 Beta 版本）  

### 2.3 RC（候选发布版）
- **标识符**：`rc`  
- **场景**：最终测试版本，接近正式发布。  
- **示例**：  
  - `1.0.0-rc.1`  
  - `2.5rc2`（简写）  

### 2.4 其他预发布标识
| 标识符       | 含义                | 示例               |
|--------------|---------------------|--------------------|
| `dev`        | 开发中版本           | `1.0.0-dev`        |
| `snapshot`   | 临时构建（Maven）    | `1.0-SNAPSHOT`     |
| `nightly`    | 每日自动构建         | `2023.07-nightly`  |

---

## 3. 构建元数据
通过 `+` 附加构建信息，仅用于跟踪，不影响版本优先级：

**示例**：  
- `1.0.0-alpha+20230715`（构建日期）  
- `2.3.1+build.89a4f2d`（Git 提交哈希）  

---

## 4. 日期版本号
适用于快速迭代项目，格式灵活：

### 4.1 纯日期格式
- **年月日**：`YYYYMMDD`  
  - 示例：`20230715`  
- **年.周数**：`YYYY.WW`  
  - 示例：`2023.28`（2023 年第 28 周）  

### 4.2 组合格式
- 语义版本 + 日期：`1.2.3-20230715`  
- 日期 + 构建号：`20230715.1`  

---

## 5. 特殊字母与场景
### 5.1 平台/环境标识
| 字母  | 含义           | 示例               |
|-------|----------------|--------------------|
| `w`   | Web 版本       | `2.0w`             |
| `m`   | 移动端         | `3.1m`             |
| `d`   | 桌面端         | `4.2d`             |
| `s`   | 服务器端       | `5.0s`             |

### 5.2 定制化版本
| 标识符    | 含义                   | 示例                     |
|-----------|------------------------|--------------------------|
| `ga`      | 正式发布版             | `5.0-ga`                 |
| `sp`      | 服务包（微软）         | `Windows10-SP2`          |
| `LTS`     | 长期支持版             | `Node.js 18.17.1 LTS`    |

### 5.3 构建频率标识
| 标识符  | 含义               | 示例               |
|---------|--------------------|--------------------|
| `w`     | 每周构建           | `3.5.0w12`         |
| `d`     | 每日构建           | `2023.07d15`       |

---

## 6. 行业规范与工具
### 6.1 语义化版本（SemVer）
- **标准**：`Major.Minor.Patch[-预发布][+元数据]`  
- **规则**：  
  - 主版本号变更需重置次版本和修订号为 `0`。  
  - 公开 API 必须遵循 SemVer（如 npm、PyPI）。  

### 6.2 其他规范
| 规范名称   | 格式示例            | 适用场景               |
|------------|---------------------|-----------------------|
| **CalVer** | `2023.07.1`         | Ubuntu、硬件固件       |
| **ZeroVer**| `0.12.3`            | 未稳定项目（如开源库） |

### 6.3 工具实现
| 工具       | 规则示例                      | 说明                   |
|------------|-------------------------------|------------------------|
| **Python** | `1.0a1`, `1.0.post1`          | PEP 440 规范           |
| **Maven**  | `1.0-SNAPSHOT`, `2.3-rc1`     | 依赖管理严格匹配版本   |
| **Docker** | `nginx:1.23-alpine`           | 标签支持语义化版本     |

---

## 7. 字母使用总结表
| 字母/标识符  | 含义                | 示例               | 适用场景               |
|--------------|---------------------|--------------------|-----------------------|
| `a`          | Alpha 测试版        | `1.0.0a`           | 内部测试阶段          |
| `b`          | Beta 测试版         | `2.3.0b2`          | 公开测试阶段          |
| `rc`         | 候选发布版          | `3.0-rc.1`         | 最终测试              |
| `w`          | 周构建/Web 版本     | `4.5.0w12`         | 持续集成或平台区分    |
| `m`          | 移动端              | `2.0m`             | 多平台项目            |
| `LTS`        | 长期支持版          | `Node.js 18.17.1 LTS` | 企业级稳定版本      |
| `snapshot`   | 快照版本            | `1.0-SNAPSHOT`     | Maven 临时构建        |

---

## 8. 最佳实践
1. **明确版本阶段**：  
   - Alpha → Beta → RC → Stable，避免跳过阶段。  
2. **自动化生成**：  
   - 使用 CI/CD 工具生成构建号和日期版本（如 GitHub Actions）。  
3. **文档化规则**：  
   - 在 `CHANGELOG.md` 或 `VERSIONING.md` 中记录版本策略。  
4. **依赖管理**：  
   - 精确锁定版本（如 `package-lock.json`），避免自动升级破坏兼容性。  

---

## 9. 附录
### 9.1 版本号比较规则
- **优先级排序**：  
  `1.0.0` < `1.0.0-alpha` < `1.0.0-beta` < `1.0.0-rc` < `1.0.0`  
- **工具支持**：  
  - npm: `semver` 库  
  - Python: `packaging.version.parse`  

### 9.2 参考链接
- [Semantic Versioning 2.0.0](https://semver.org/)  
- [Python PEP 440](https://peps.python.org/pep-0440/)  
- [Maven Versioning](https://maven.apache.org/ref/3.9.5/maven-artifact/apidocs/org/apache/maven/artifact/versioning/VersionRange.html)  
